\documentclass{article}
\usepackage{noweb}
\usepackage[margin=1in]{geometry}

\begin{document}

\title{Noweb Example}
\author{Hunter Damron}

\maketitle

\section{The Code}

This is an example of noweb C++ with \LaTeX.

First we must include some C++ necessities.

<<main.cpp>>=
#include <iostream>
#include <cmath>

@ Next we define our global variables.
<<Global variables>>=
double y, z;
std::string str;

@ Then we can define our sqrt function which applies on a double [[x]].

<<main.cpp>>=
double my_sqrt(const double& x) {
  return sqrt(x);
}

@ Now we must define a printing subroutine which applies on a string [[str]].

<<[[prettyprint]] subroutine>>=
std::cout << "FANCY: " << str << std::endl;

@ Finally, here is the main function (and the inclusion of [[Global variables]]).

<<main.cpp>>=
<<Global variables>>

int main() {
  y = 6;
  z = 8.4;
  str = "Hello World";
  <<[[prettyprint]] subroutine>>
  std::cout << "Sqrts: " << my_sqrt(y) << " and " << sqrt(z) << std::endl;
  return 0;
}

@

\section{Index}
\nowebindex

\section{Chunks}
\nowebchunks

\end{document}
